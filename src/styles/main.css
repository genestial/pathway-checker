@import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@700&family=Open+Sans:wght@400&display=swap');
@import 'react-tabs/style/react-tabs.css';

/* Import Tailwind CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global Styles */
body {
  @apply bg-gradient-to-b from-pathway-light to-gray-100;
  margin: 0;
  font-family: 'Open Sans', sans-serif;
  color: #333;
}

p {
  @apply mb-4;
}

/* Color variables */
:root {
  --in-progress: #666666;
  --leading: #2ecc71;
  --advancing: #f1c40f;
  --developing: #e67e22;
  --needs-improvement: #e74c3c;
  --header-h: 64px;
}

/* Base button overrides */
button, .a11y-button {
  @apply px-6 py-3 rounded-[2rem] transition duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-pathway-primary;
}

.btn-print {
  @apply inline-flex items-center justify-center px-3 py-3 border border-gray-300 bg-white text-gray-700 hover:bg-gray-100 transition;
  margin-top: 0 !important;
  line-height: 1 !important;
}

/* Reset list styling for navigation and footer menus */
nav ul li, ul.footer__social-list li{ list-style: none; }

/* Header */
.header { @apply fixed inset-x-0 top-0 z-10 bg-transparent; height: var(--header-h); }
.header--scrolled { @apply bg-white; }
.header__container { @apply flex items-center justify-between px-4 max-w-7xl mx-auto; height: var(--header-h); }
.header__logo { @apply h-10 md:h-11; }
.header__nav-list { @apply flex items-center space-x-4 ml-auto mr-4; }
.header__nav-link { @apply text-black hover:text-pathway-dark transition text-base font-medium; }
.header__nav-link.active::before {
  content: '';
  @apply w-2 h-2 bg-leading rounded-full mr-1.5 inline-block align-middle;
}
.header__profile-btn {
  @apply p-0 bg-transparent border-none cursor-pointer flex items-center;
}
.header__profile-img {
  @apply w-8 h-8 rounded-full object-cover;
}
.header__dropdown {
  @apply absolute right-0 top-[var(--header-h)] mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-md py-2 z-10 overflow-hidden;
}
.header__dropdown-email {
  @apply block px-4 py-2 text-sm text-gray-700 font-medium truncate;
}
.header__dropdown-btn {
  @apply block w-full text-left px-4 py-2 text-sm bg-pathway-primary text-white rounded-[2rem] transition duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-pathway-primary hover:shadow-md;
}
.header .btn-login { @apply text-white hover:text-white; }

/* Footer */
.footer { @apply bg-gray-900 text-gray-200 py-8 mt-8; }
.footer__container { @apply max-w-6xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-6; }
.footer__brand { @apply text-center md:text-left; }
.footer__name { @apply font-['Ubuntu'] text-lg font-bold; }
.footer__copy { @apply text-xs text-gray-400; }
.footer__nav-list { @apply flex gap-4; }
.footer__link { @apply text-gray-300 hover:text-white transition; }
.footer__social-list { @apply flex gap-3; }
.footer__social-link svg { @apply fill-gray-300 hover:fill-white transition; }
.footer__eu {
  @apply max-w-6xl mx-auto px-4 mt-6 flex flex-col md:flex-row items-center md:items-start justify-between gap-3 text-left;
}
.footer__eu-logo {
  @apply h-10 flex-shrink-0;
}
.footer__eu-text {
  @apply text-xs text-gray-400 leading-snug max-w-3xl;
}

ul {
  @apply ml-6 list-disc;
}

/* Home Page */
.home-page { @apply pt-16 text-center; }

/* Home hero */
.home-hero { @apply relative isolate bg-cover bg-center w-full; min-height: min(80vh, 720px); padding-top: var(--header-h); }
.home-hero__overlay { @apply absolute inset-0 bg-black/40; }
.container { @apply max-w-7xl mx-auto px-4; }
.home-hero__content { @apply relative text-white py-16 flex flex-col items-center justify-center; }
.home-hero__content h1 { @apply text-white font-['Ubuntu'] font-bold; }
.home-hero__lead { @apply max-w-3xl mx-auto mt-4 text-lg text-gray-100; }

/* Full-bleed sections */
.home-section { @apply w-full py-12; }
.home-section--light { @apply bg-gray-100; }
.home-section--green { background-color: #e6f4ec; }
.home-section--white { @apply bg-white; }

.home-section__inner { @apply container grid md:grid-cols-2 gap-8 items-center max-w-7xl mx-auto px-4; }
.home-section--partners .home-section__body {
  grid-column: 1 / -1;
  @apply w-full max-w-none text-center;
}
.home-section--partners .section-heading { @apply text-center font-['Ubuntu'] font-bold; }
.home-section--partners .partners {
  @apply mt-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-8 justify-items-center w-full max-w-none;
}

.home-section__media { @apply order-1; }
.home-section__media--center { @apply flex items-center justify-center; }
.home-section__img { @apply w-full h-auto; }
.home-section__logo { @apply h-20 w-auto; }
.home-section__body { @apply text-left order-2; }

.home-section--partners .home-section__inner { @apply grid-cols-1 max-w-7xl mx-auto px-4; }
.home-section--partners .home-section__body { @apply w-full max-w-none; }
.home-section--partners .partners { @apply w-full max-w-none; }
.partners { @apply grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-8 items-center justify-items-center; }
.partners__item { @apply list-none; }
.partners__logo { @apply h-40 w-auto object-contain transition-opacity hover:opacity-80; }

/* Page hero (non-home pages) */
.page-hero { @apply relative w-full; padding-top: var(--header-h); }
.page-hero__band { @apply bg-gradient-to-r from-emerald-600 via-emerald-500 to-emerald-400 w-full; }
.page-hero__inner { @apply container py-10 max-w-7xl mx-auto px-4; }
.page-hero__title { @apply text-white text-3xl font-['Ubuntu'] font-bold text-center; }
.page-hero__subtitle { @apply text-white/90 mt-2 text-base md:text-lg text-center; }

/* Typography + Headings */
@layer components {
  .page-heading { @apply text-4xl font-['Ubuntu'] font-bold text-pathway-primary mb-8 text-center; }
  .section-heading { @apply text-3xl font-['Ubuntu'] font-bold flex items-center mb-6 cursor-pointer; }
  .section-heading:hover { @apply text-pathway-primary; }
  .subheading { @apply text-xl font-medium mb-4 mt-6; }
  .item-label { @apply font-semibold text-base; }
  .item-block { @apply bg-gray-50 p-4 rounded-md; }
  .btn, button { @apply bg-pathway-primary text-white inline-block px-4 py-2 rounded-[2rem] transition duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-pathway-primary; }
  .score-card__overlay { @apply absolute inset-0 flex items-center justify-center text-3xl font-bold text-black; }
  .in-progress { @apply text-in-progress; }
  .leading { @apply text-leading; }
  .advancing { @apply text-advancing; }
  .developing { @apply text-developing; }
  .needs-improvement { @apply text-needs-improvement; }
}

/* Auth Page */
.auth-container { @apply pt-16 text-center bg-gray-100 min-h-screen; }
.auth-container__inner { @apply max-w-md mx-auto p-6 bg-white rounded-lg shadow-md; }
.auth-container__error { @apply text-red-500 text-center mb-4 text-base; }
.auth-container__form { @apply space-y-6; }
.auth-container__field { @apply text-left; }
.auth-container__label { @apply block text-pathway-dark text-sm font-medium mb-2; }
.auth-container__input { @apply w-full p-3 border border-gray-300 rounded-[1rem] focus:outline-none focus:ring-2 focus:ring-pathway-primary text-base; }

/* Results Page */
.results-page { @apply pt-16; }
.results-page__no-results { @apply text-gray-600 text-center; }

/* Score Card */
.score-card { @apply text-center mb-8 p-6; }
.score-card__title { @apply text-4xl font-['Ubuntu'] font-bold; }
.score-card__canvas { @apply mx-auto block; }
.score-card__value { @apply text-2xl mt-2; }
.score-card__label { @apply text-gray-600 mt-1; }

/* Topic Sections */
.topic-section { @apply text-center mb-8 p-6; }
.topic-section__title { @apply text-2xl font-['Ubuntu'] font-bold mb-4; }
.topic-section__canvas { @apply mx-auto block mb-4; }
.topic-section__grid { @apply grid grid-cols-1 sm:grid-cols-2 gap-4; }
.topic-section__item { @apply text-center; }
.topic-section__icon-container { @apply w-16 h-16 flex items-center justify-center mx-auto; }
.topic-section__value { @apply text-2xl mt-2; }
.topic-section__label { @apply mt-1; }

/* Pillars */
.pillars-container { @apply flex flex-col gap-8 mt-8; }
@media (min-width: 1025px) {
  .pillars-container { @apply flex-row; }
  .pillars-container > * { @apply flex-1; }
}

/* Questionnaire Sidebar + Timeline */
.questionnaire-page { @apply flex pt-10; }
.page--questionnaire .footer { @apply mt-0; }

.sidebar-tabs { @apply w-80 relative; }
.sidebar-tabs::before { content: ''; @apply absolute left-6 top-20 bottom-0 w-px bg-gray-300; }
.tab-list-vertical { @apply flex flex-col sticky top-20 space-y-4; }
.tab-list-vertical .react-tabs__tab { @apply items-start pl-3 cursor-pointer; }
.tab-list-vertical .react-tabs__tab--selected { @apply text-pathway-primary font-bold bg-transparent; }
.questionnaire-tabs { @apply flex mx-auto; }

/* Timeline dots */
.timeline-dot { @apply w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 leading-none; }
.pending-dot { @apply bg-gray-300; }
.completed-dot { @apply bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm; }

/* Sidebar progress bar */
.a11y-progress { @apply w-full h-8 bg-gray-300 rounded-[25px] overflow-hidden relative mb-6; }
.a11y-progress-bar { @apply h-full bg-pathway-primary transition-all; }
.a11y-progress span { @apply absolute inset-0 flex items-center justify-center text-white font-semibold; }

/* Questionnaire Actions */
.questionnaire-actions { @apply sticky bottom-0 z-[5] w-full bg-white/95 backdrop-blur border-t border-gray-200; }
.questionnaire-actions__inner { @apply flex items-center gap-3 py-3 px-4; }
.questionnaire-actions__spacer { @apply flex-1; }
.btn--lg { @apply px-8 py-3 text-base md:text-lg; }
.btn--disabled, .btn[disabled] { @apply opacity-50 cursor-not-allowed pointer-events-none; }
.tab-content { @apply pb-24; }
.tab-content { @apply flex-1 pl-6; }
.question-block { padding: 15px; }
.question-title { @apply flex justify-between items-center text-xl font-['Ubuntu'] font-bold mb-4; }
.question-text { @apply text-left; }
.question-id { @apply text-xs text-gray-400 font-normal ml-4; }

/* Accordion header (button) */
.btn-accordion {
  @apply w-full flex items-center justify-between text-left text-xl font-['Ubuntu'] font-bold px-4 py-3 bg-white text-black border border-gray-200 rounded-md shadow-sm transition;
  margin-top: 0 !important;
}
.btn-accordion:hover { @apply bg-gray-50; }
.btn-accordion:focus-visible { @apply outline-none ring-2 ring-emerald-500/40; }
.btn-accordion[aria-expanded="true"] { @apply bg-emerald-50 border-emerald-200; }
.btn-accordion__status { @apply ml-3 text-sm text-gray-500 hidden md:inline; }
.btn-accordion::after {
  content: "▾";
  transition: transform 0.2s ease;
  @apply text-gray-500 ml-3;
}
.btn-accordion[aria-expanded="true"]::after { transform: rotate(180deg); }
.accordion-panel {
  @apply px-4 py-4 bg-white border border-t-0 border-gray-200 rounded-b-md -mt-px;
}
.accordion-panel .item-block { @apply bg-gray-50 p-4 rounded-md; }
.btn-accordion[aria-expanded="true"] + .accordion-panel {
  @apply border-emerald-200;
  box-shadow: inset 4px 0 0 theme('colors.emerald.500');
}

/* Responsive */
@media (max-width: 640px) {
  .home-page, .results-page, .auth-container { @apply pt-16; }
  .score-card, .topic-section { @apply p-6; }
  .topic-section__title { @apply text-xl font-['Ubuntu'] font-bold; }
  .topic-section__grid { @apply grid-cols-1; }
  .header__nav-list { @apply flex-col space-y-2; }
  .header__logo { @apply h-8; }
  button, .a11y-button { @apply px-4 py-2; }
}
@media (min-width: 641px) and (max-width: 1024px) {
  .home-page, .results-page, .auth-container { @apply pt-16; }
  .score-card, .topic-section { @apply p-6; }
  .header__logo { @apply h-10; }
}
@media (min-width: 1025px) {
  .header__nav-link:hover { @apply text-pathway-dark underline; }
  button:hover, .a11y-button:hover { @apply shadow-md; }
}